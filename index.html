<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christianssand | Håndlagde fargestifter</title>
    <style>
        :root { 
            --forest-black: #141a17;
            --emerald-deep: #1e332d;
            --clay-warm: #a67c52;
            --linen: #f4f1ed;
            --vipps: #ff5b24;
            --klarna: #ffb3c7;
            --border-color: rgba(30, 51, 45, 0.2);
        }

        * { box-sizing: border-box; scroll-behavior: smooth; }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(rgba(244, 241, 237, 0.92), rgba(244, 241, 237, 0.85)),
                        url('static/christianssand_bg_new.jpg');
            background-size: cover; background-attachment: fixed;
            color: var(--forest-black); margin: 0; padding: 0; min-height: 100vh;
        }

        /* HEADER */
        .top-bar {
            padding: 1.5rem 4rem;
            background: white;
            display: flex; align-items: center;
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            position: sticky; top: 0; z-index: 100;
        }

        .header-content { display: flex; align-items: center; gap: 1.5rem; }
        .header-title { font-size: 1.8rem; letter-spacing: 0.2em; text-transform: uppercase; color: var(--emerald-deep); margin: 0; }
        .header-subtitle { font-size: 0.8rem; letter-spacing: 0.12em; text-transform: uppercase; color: var(--clay-warm); margin-top: 0.2rem; }
        .main-logo { height: 70px; width: auto; }

        /* FLYTENDE HANDLEKURV */
        #floating-cart {
            position: fixed; bottom: 20px; right: 20px;
            width: 320px; background: white;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            border-top: 5px solid var(--emerald-deep);
            padding: 15px; z-index: 1000;
            display: none; border-radius: 8px;
        }

        .cart-item { display: flex; justify-content: space-between; font-size: 0.85rem; margin-bottom: 8px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
        .checkout-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 12px; }
        
        .btn-vipps { background: var(--vipps); color: white; border: none; padding: 10px; font-weight: bold; cursor: pointer; border-radius: 5px; font-size: 0.75rem; }
        .btn-klarna { background: var(--klarna); color: black; border: none; padding: 10px; font-weight: bold; cursor: pointer; border-radius: 5px; font-size: 0.75rem; }

        /* GRID & CONFIG */
        .container { max-width: 1100px; margin: 0 auto; padding: 2rem 1.5rem; }
        
        /* 2x2 Grid-oppsett */
        .category-grid { 
            display: grid; 
            grid-template-columns: repeat(2, 1fr); 
            gap: 1rem; 
            margin-bottom: 4rem; 
        }

        .category-card { background: white; cursor: pointer; transition: 0.3s; border: 1px solid transparent; text-align: center; overflow: hidden; }
        .category-card:hover { border-color: var(--clay-warm); }
        .category-card img { width: 100%; height: 180px; object-fit: cover; }
        .category-info { padding: 0.8rem; text-transform: uppercase; font-size: 0.75rem; letter-spacing: 0.1em; font-weight: bold; }

        .config-container { background: white; padding: 3rem 2rem; box-shadow: 0 20px 40px rgba(0,0,0,0.05); border-top: 4px solid var(--emerald-deep); }
        .config-layout { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 3rem; }
        
        input, select { width: 100%; padding: 10px 0; border: none; border-bottom: 1px solid #ddd; font-size: 1.1rem; font-family: 'Georgia', serif; background: transparent; }
        label { display: block; margin-top: 1.5rem; font-size: 0.7rem; text-transform: uppercase; color: var(--clay-warm); font-weight: bold; }

        .preview-box { background: #fafaf9; display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 6px; min-height: 200px; border: 1px solid #f0efed; transition: 0.3s; padding: 1rem; }
        .preview-box.box-mode { border: 8px solid #d4c4b5; background: white; }

        .letter { width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.3rem; box-shadow: 4px 4px 8px rgba(0,0,0,0.1); }

        .buy-btn { background: var(--emerald-deep); color: white; border: none; padding: 1.2rem; width: 100%; text-transform: uppercase; cursor: pointer; margin-top: 1.5rem; letter-spacing: 0.2em; font-weight: bold; }
        .buy-btn:disabled { background: #eee; cursor: not-allowed; color: #aaa; }

        /* MOBIL-TILPASNINGER */
        @media (max-width: 768px) {
            .top-bar { padding: 1rem; flex-direction: column; text-align: center; }
            .header-content { flex-direction: column; gap: 0.5rem; }
            .header-title { font-size: 1.4rem; }
            .main-logo { height: 60px; }
            
            .category-grid { gap: 0.8rem; }
            .category-card img { height: 140px; }
            
            .config-layout { grid-template-columns: 1fr; gap: 2rem; }
            #floating-cart { width: 95%; right: 2.5%; bottom: 10px; }
            .price-display { font-size: 2rem !important; }
        }
    </style>
</head>
<body>

<div class="top-bar">
    <div class="header-content">
        <img src="static/logo_olav.jpg" alt="Logo" class="main-logo">
        <div class="header-text-group">
            <div class="header-title">Christianssand</div>
            <span class="header-subtitle">Håndlagde fargestifter</span>
        </div>
    </div>
</div>

<div class="container">
    <div class="category-grid">
        <div class="category-card" onclick="setMode('studio')">
            <img src="static/ror.png" alt="Rør"><div class="category-info">Studio-Rør</div>
        </div>
        <div class="category-card" onclick="setMode('gave')">
            <img src="static/eske.png" alt="Eske"><div class="category-info">Gaveeske</div>
        </div>
        <div class="category-card" onclick="setMode('abc')">
            <img src="static/abc.png" alt="Sett"><div class="category-info">Bokstavsett</div>
        </div>
        <div class="category-card" onclick="setMode('figurer')">
            <img src="static/figurer.png" alt="Figurer"><div class="category-info">Figurer</div>
        </div>
    </div>

    <div id="konfigurator" class="config-container">
        <div class="config-layout">
            <div>
                <h2 id="config-title" style="margin-top:0;">Konfigurator</h2>
                <label>Navn eller ord</label>
                <input type="text" id="nameInput" placeholder="SKRIV HER..." oninput="updateUI()" maxlength="12">
                
                <label>Innpakning</label>
                <select id="pkgSelect" onchange="updateUI()">
                    <option value="studio">Studio-rør (95,- pr bokstav)</option>
                    <option value="gave">Eksklusiv Gaveeske (+89,-)</option>
                </select>

                <div style="font-size: 2.5rem; margin: 1.5rem 0; font-weight: bold;" id="totalPrice">0 kr</div>
                <button id="buyBtn" class="buy-btn" onclick="addToCart()" disabled>Legg i handlekurv</button>
            </div>
            <div class="preview-box" id="preview">
                <p style="color: #ccc; font-size: 0.8rem;">Venter på design...</p>
            </div>
        </div>
    </div>
</div>

<div id="floating-cart">
    <h3 style="margin-top:0; font-size: 1rem; border-bottom: 2px solid var(--forest-black); padding-bottom: 8px;">Handlekurv</h3>
    <div id="cart-items-list"></div>
    <div style="display:flex; justify-content:space-between; font-weight:bold; margin-top:12px; font-size: 1.1rem;">
        <span>Totalt:</span>
        <span id="cart-total-sum">0 kr</span>
    </div>
    <div class="checkout-buttons">
        <button class="btn-vipps" onclick="alert('Vipps betaling...')">VIPPS</button>
        <button class="btn-klarna" onclick="alert('Klarna betaling...')">KLARNA</button>
    </div>
</div>

<script>
    let cart = [];
    const colors = ['#1e332d', '#8b7355', '#556b2f', '#483c32', '#6b705c'];

    function setMode(mode) {
        const pkg = document.getElementById('pkgSelect');
        pkg.value = (mode === 'gave') ? 'gave' : 'studio';
        document.getElementById('konfigurator').scrollIntoView();
        updateUI();
    }

    function updateUI() {
        const input = document.getElementById('nameInput');
        const pkg = document.getElementById('pkgSelect').value;
        const preview = document.getElementById('preview');
        let name = input.value.toUpperCase().replace(/[^A-ZÆØÅ]/g, '');
        input.value = name;

        preview.innerHTML = '';
        if (pkg === 'gave') preview.classList.add('box-mode');
        else preview.classList.remove('box-mode');

        if (name.length > 0) {
            for (let i = 0; i < name.length; i++) {
                const div = document.createElement('div');
                div.className = 'letter';
                div.innerText = name[i];
                div.style.background = colors[i % colors.length];
                preview.appendChild(div);
            }
            const total = (name.length * 95) + (pkg === 'gave' ? 89 : 0);
            document.getElementById('totalPrice').innerText = total + ' kr';
            document.getElementById('buyBtn').disabled = false;
        } else {
            preview.innerHTML = '<p style="color: #ccc;">Venter på design...</p>';
            document.getElementById('totalPrice').innerText = '0 kr';
            document.getElementById('buyBtn').disabled = true;
        }
    }

    function addToCart() {
        const name = document.getElementById('nameInput').value;
        const pkgText = document.getElementById('pkgSelect').options[document.getElementById('pkgSelect').selectedIndex].text;
        const price = parseInt(document.getElementById('totalPrice').innerText);

        cart.push({ name, pkgText, price });
        renderCart();
        document.getElementById('floating-cart').style.display = 'block';
        document.getElementById('nameInput').value = '';
        updateUI();
    }

    function renderCart() {
        const list = document.getElementById('cart-items-list');
        const totalSum = document.getElementById('cart-total-sum');
        list.innerHTML = '';
        let total = 0;

        cart.forEach((item) => {
            total += item.price;
            list.innerHTML += `
                <div class="cart-item">
                    <span><strong>${item.name}</strong></span>
                    <span>${item.price} kr</span>
                </div>
            `;
        });
        totalSum.innerText = total + ' kr';
    }
</script>

</body>
</html>


